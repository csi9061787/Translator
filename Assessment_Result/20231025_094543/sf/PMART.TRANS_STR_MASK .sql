REPLACE FUNCTION PMART.TRANS_STR_MASK (STR_DATA VARCHAR(100) CHARACTER SET UNICODE)
   RETURNS VARCHAR(100) CHARACTER SET UNICODE
   LANGUAGE SQL
   CONTAINS SQL
   DETERMINISTIC
   SQL SECURITY DEFINER
   COLLATION INVOKER
   INLINE TYPE 1
   RETURN
CASE WHEN  LENGTH(STR_DATA)>2
               THEN  SUBSTRING(STR_DATA,1,2)+ 'XXX'
     ELSE
    SUBSTRING(STR_DATA,1,1)+'XX'
    END;